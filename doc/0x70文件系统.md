文件系统
===========



硬盘的基本概念
----------------

- 扇区: 硬盘读写的基本单位, 在磁道上均匀分布. 扇区从1开始编号, 每个扇区存储256xN字节数据, 通常N取值为2, 即扇区大小- 为512字节.
- 磁道: 盘片上的一个个同心圆, 磁道由外向里从0开始编号.
- 磁头: 一个硬盘通常有多个盘片, 每个盘片分正反两面, 两面都具有磁头. 磁头从上到下从0开始编号, 一般有2N个磁头
- 柱面: 磁盘读写数据时, 多个磁头同时写入到不同盘面相同编号的磁道上, 这些不同盘面的同一编号的磁道构成柱面.
- 分区: 多个编号连续的柱面组成分区. 一个柱面只能属于一个分区.

基于以上概念, 可以有如下的一些关系

1. 磁盘容量 = 单片容量 x 磁头数
2. 单片容量 = 每磁道扇区数 x 磁道数 x 512字节
3. 磁盘容量 = 每磁道扇区数 x 柱面数 x 512字节 x 磁头数

一般情况下, 每磁道扇区数都是63, 扇区大小都是512字节, 因此实际容量仅取决于柱面数与磁头数.


执行完`bximage`创建了一个80M的硬盘后, 输出了如下的数据

```
Creating hard disk image 'hd80M.img' with CHS=162/16/63 (sector size = 512)
```

即柱面数位162, 磁头数16, 每磁道扇区数62, 每扇区大小512, 因此可以计算磁盘容量为

```
162 x 16 x 63 x 512 = 83,607,552 = 79.73 M
```


修改分区
-----------------

随便分一下就行, 书上的图片看不清, 可参考下面的文章

- [《操作系统真象还原》第13章 - Hell0er - 博客园](https://www.cnblogs.com/hell0er/articles/17238169.html)
- [linux下使用fdisk进行磁盘分区详解 - 人生的哲理 - 博客园](https://www.cnblogs.com/renshengdezheli/p/13941563.html)